<!DOCTYPE html>
<html>
<head>
<title>Cohorts.js</title>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
<script type="text/javascript" src="cohorts.js"></script>
<script type="text/javascript">
$(document).ready(function(){

    Cohorts.Options.debug = true;
	font_test = new Cohorts.Test({
		name: 'hello-goodbye',
		scope: 1, // Set the scope for the test and custom variable: 1: Visitor, 2: Session, 3: Page 
		sample: 1,
		cohorts: {
			hello: {
				onChosen: function() {
					$('p.message').html('Hello, world.');
				}
			},
			goodbye: {
				onChosen: function() {
					$('p.message').html('Goodbye, world.');
				}
			},
		},
	
    storageAdapter: {
        nameSpace: 'cohorts',
		cv_slot: 1, // Choose which custom variable slot you'd like to use
        trackEvent: function(category, action, opt_label, opt_value, int_hit, cv_slot, scope) { 	
			if (cv_slot) _gaq.push(['_setCustomVar', cv_slot, action, opt_label, scope]); // Set custom variable before event
			_gaq.push(['_trackEvent', category, action, opt_label, opt_value, int_hit]);
        },
        onInitialize: function(inTest, testName, cohort, cv_slot, scope) {
            if(inTest && scope !== 3) {
                this.trackEvent(this.nameSpace, testName, cohort, 0, true, cv_slot, scope); // No need for cookies at page-level scope
            }
        },
        onEvent: function(testName, cohort, eventName) {
            this.trackEvent(this.nameSpace, testName, cohort + ' | ' + eventName, 0, false);
        }
    }
	
	});
	
	$('p.message').click(function() {
        hello-goodbye.event('Clicked on message'); // Track any evens with your storage adapter
    });
	
	// Add more test objects as you please
	
});
</script>
<script type="text/javascript">
 
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-XXXXXX-Y']);
  _gaq.push(['_trackPageview']);
 
  (function() {
	var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
	var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
 
</script>
</head>
<body>
<h1>Testing</h1>
<p class="message"></p>
<p>For more information on how this works, check out the Readme.</p>
</body>
</html>
